{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","contexts/CurentUserContext.js","components/Card.js","components/Main.js","images/close.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/Api.js","utils/config.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","date","Date","getFullYear","CurrentUserContext","React","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","onCardClick","name","onCardDelete","type","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","slice","map","item","PopupWithForm","isOpen","close","onClose","title","onSubmit","noValidate","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","AddPlacePopup","setLink","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","api","config","getInitialCards","fetch","baseUrl","headers","then","res","_getResponseData","addCardPage","method","body","JSON","stringify","getUsersInfo","updateUserInfo","data","removeCard","setLikeCard","unLikeCard","addNewAvatar","ok","json","Promise","reject","status","this","authorization","App","setCards","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","all","user","reverse","catch","err","console","log","Provider","cardNew","filter","c","newCard","newCards","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.28e5e845.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.812fc7b5.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <div className=\"header root__section\">\n      <img src={ logo } alt=\"mesto logo\" className=\"logo\"/>\n    </div>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  const date = new Date();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">{date.getFullYear()} Mesto by Sergei Vaskin</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\n\nfunction Card(props) {\n  const card = props.card;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `place-card__delete-icon ${isOwn ? 'place-card__delete-icon_visible' : ''}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `place-card__like-icon ${isLiked ? 'place-card__like-icon_liked' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(card.link, card.name);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <div className=\"place-card\" key={ card._id }>\n      <div className=\"place-card__image\" style={{ backgroundImage: `url(${ card.link })` }}\n      onClick={ handleClick } />\n      <button onClick={ handleDeleteClick } className={ `${ cardDeleteButtonClassName }` } type=\"button\"/>\n      <div className=\"place-card__description\">\n        <h3 className=\"place-card__name\">{ card.name }</h3>\n        <div className=\"place-card__like-container\">\n          <button className={ `${ cardLikeButtonClassName }` } onClick={ handleLikeClick } />\n          <div className=\"place-card__like-counter\">{ card.likes.length }</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\n// import { SemipolarLoading } from 'react-loadingg';\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // if(!currentUser) {\n  //   return (\n  //     <SemipolarLoading color=\"#fff\" />\n  //   )\n  // }\n\n  return (\n    <>\n      <div className=\"profile root__section\">\n        <div className=\"user-info\">\n          <div className=\"user-info__photo\" onClick={ props.onEditAvatar }\n               style={{ backgroundImage: `url(${ currentUser.avatar })` }}/>\n          <div className=\"user-info__data\">\n            <h1 className=\"user-info__name\">{ currentUser.name }</h1>\n            <p className=\"user-info__job\">{ currentUser.about }</p>\n            <button className=\"user-info__edit\" onClick={ props.onEditProfile }>Edit</button>\n          </div>\n          <button className=\"button user-info__button\" onClick={ props.onAddPlace }>+</button>\n        </div>\n      </div>\n      <div className=\"places-list root__section\">\n        {props.cards.slice(0, 50).map((item) => (\n          <Card\n            key={ item._id }\n            card={ item }\n            onCardDelete={ props.onCardDelete }\n            onCardClick={ props.onCardClick }\n            onCardLike={ props.onCardLike }\n          />\n          ))}\n      </div>\n    </>\n  )\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/close.888d78eb.svg\";","import close from '../images/close.svg';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={ `popup popup_type_${ props.name } ${ props.isOpen }` }>\n      <div className=\"popup__content\">\n        <img src={ close } alt=\"\"\n             className={ `popup__close popup__close_type_${ props.name }` }\n             onClick={ props.onClose }\n        />\n        <h3 className=\"popup__title\">{ props.title }</h3>\n        <form className=\"popup__form\" name={ props.name } onSubmit={ props.onSubmit } noValidate>\n          { props.children }\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurentUserContext';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeDescription(event) {\n    setDescription(event.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\n      onClose={ props.onClose }\n      onSubmit={ handleSubmit }\n      title='Редактировать профиль'\n      name='profile'\n      children={\n        <>\n          <input value={name || ''} onChange={ handleChangeName } id=\"user\" type=\"text\" name=\"user\" className=\"popup__input popup__input_type_user\"\n                 placeholder=\"Имя\" required minLength=\"2\" maxLength=\"30\"/>\n          <span id=\"user-error\" className=\"error\"/>\n          <input value={description || ''} onChange={ handleChangeDescription } id=\"about\" type=\"text\" name=\"about\" className=\"popup__input popup__input_type_about\"\n                 placeholder=\"О себе\" required minLength=\"2\" maxLength=\"30\"/>\n          <span id=\"about-error\" className=\"error\"/>\n          <button type=\"submit\"\n                  className=\"button popup__button popup__button_save popup__button_valid\">Сохранить\n          </button>\n        </>\n      }\n    />\n  )\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeLink(event) {\n    setLink(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    props.onAddPlace({ name, link });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\n      onClose={ props.onClose }\n      onSubmit={ handleSubmit }\n      title='Новое место'\n      name='card'\n      children={\n        <>\n          <input onChange={ handleChangeName } id=\"name\" type=\"text\" name=\"name\" className=\"popup__input popup__input_type_name\"\n                 placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\"/>\n          <span id=\"name-error\" className=\"error\"/>\n          <input onChange={ handleChangeLink } id=\"link\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_link-url\"\n                 placeholder=\"Ссылка на картинку\" required/>\n          <span id=\"link-error\" className=\"error\"/>\n          <button type=\"submit\" className=\"button popup__button popup__button_add popup__button_valid\">+</button>\n        </>\n      }\n    />\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={ props.isOpen ? 'popup_is-opened' : '' }\n      onClose={ props.onClose }\n      onSubmit={ handleSubmit }\n      title='Обновить аватар'\n      name='avatar'\n      children={\n        <>\n          <input ref={avatarRef} id=\"avatarlink\" type=\"url\" name=\"link\" className=\"popup__input popup__input_type_avatar\"\n                 placeholder=\"Ссылка на аватар\" required/>\n          <span id=\"avatarlink-error\" className=\"error\"/>\n          <button type=\"submit\" className=\"button popup__button popup__button_add-avatar popup__button_valid\">Сохранить\n          </button>\n        </>\n      }\n    />\n  )\n}\n\nexport default EditAvatarPopup;\n","import close from '../images/close.svg';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={ (props.card.isOpen ? `popup popup_type_${ props.name } popup_is-opened` : `popup popup_type_${ props.name }`) }>\n      <div className=\"popup__image-container\">\n        <img src={ close } alt=\"\"\n             className=\"popup__close popup__close_type_image\" onClick={ props.onClose }/>\n        <img src={ props.card.link } alt={ props.card.name } className=\"popup__image\"/>\n        <figcaption className=\"popup__caption\">\n          {props.card.name}\n        </figcaption>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import config from \"./config\";\n\nclass Api {\n  constructor(config) {\n    this.baseUrl = config.baseUrl;\n    this.headers = config.headers;\n  }\n\n  getInitialCards = () => {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  addCardPage = (card) => {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(card)\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  getUsersInfo = () => {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  updateUserInfo = (data) => {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(data)\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  removeCard = id => {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  setLikeCard = id => {\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\n      method: 'PUT',\n      headers: this.headers,\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  unLikeCard = id => {\n    return fetch(`${this.baseUrl}/cards/like/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  addNewAvatar = avatar => {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(avatar)\n    })\n      .then(res =>\n        this._getResponseData(res));\n  }\n\n  _getResponseData = res => {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\nconst api = new Api(config)\nexport default api;\n","// const API_URL =\n//   NODE_ENV === 'production'\n//     ? 'https://nomoreparties.co'\n//     : 'http://nomoreparties.co';\n\nconst config = {\n  baseUrl: 'https://nomoreparties.co/cohort11',\n  headers: {\n    authorization: 'e68fb6ad-453f-4883-819e-2174dfda84ad',\n    'Content-Type': 'application/json'\n  }\n};\n\nexport default config;\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurentUserContext'\n\nfunction App() {\n\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    link: '',\n    name: ''\n  });\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(link, name) {\n    setSelectedCard({\n      isOpen: true,\n      link: link,\n      name: name\n    });\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      link: '',\n      name: ''\n    })\n  }\n\n  React.useEffect(() => {\n    Promise.all([api.getUsersInfo(), api.getInitialCards()])\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards.reverse());\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if(!isLiked) {\n      api.setLikeCard(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    } else {\n      api.unLikeCard(card._id)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then(() => {\n        const cardNew = cards.filter((c) => c._id !== card._id)\n        setCards(cardNew)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateUser(data) {\n    api.updateUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(data) {\n    api.addNewAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCardPage(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"root\">\n      <CurrentUserContext.Provider value={ currentUser }>\n        <Header />\n        <Main\n          cards={ cards }\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          onCardClick={handleCardClick}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}